<template>
    <c-logger></c-logger>
    <lightning-layout if:true={associatedPerson} horizontal-align="space" multiple-rows>
        <!-- Name -->
        <lightning-layout-item style="min-width: 48.5%; max-width: 48.5%">
            <c-vcc-card variant="vaProfile" title="Name">
                <!-- Card Contents -->
                <div>{name}</div>
            </c-vcc-card>
        </lightning-layout-item>

        <!-- Phone -->
        <lightning-layout-item style="min-width: 48.5%; max-width: 48.5%">
            <c-vcc-card variant="vaProfile" title="Phone">
                <!-- Button Menu -->
                <lightning-button-menu if:true={showEdit} slot="actions" alternative-text="Show menu" menu-alignment="auto" icon-size="xx-small" variant="border-filled">
                    <lightning-menu-item label="Edit" onclick={handleEditPhone}></lightning-menu-item>
                </lightning-button-menu>

                <!-- Card Contents -->
                <div>
                    <lightning-click-to-dial value={associatedPerson.primaryPhone}></lightning-click-to-dial>
                </div>
            </c-vcc-card>
        </lightning-layout-item>

        <!-- Address -->
        <lightning-layout-item style="min-width: 48.5%">
            <c-vcc-card variant="vaProfile" title="Address">
                <!-- Button Menu -->
                <lightning-button-menu if:true={showEdit} slot="actions" alternative-text="Show menu" menu-alignment="auto" icon-size="xx-small" variant="border-filled">
                    <lightning-menu-item label="Edit" onclick={handleEditAddress}></lightning-menu-item>
                </lightning-button-menu>

                <!-- Card Contents -->
                <div>
                    <lightning-formatted-address
                        disabled
                        city={displayAddress.city}
                        country={displayAddress.country}
                        postal-code={displayAddress.postalCode}
                        province={displayAddress.province}
                        street={displayAddress.street}
                        style="overflow-wrap: break-word"
                    >
                    </lightning-formatted-address>
                </div>
            </c-vcc-card>
        </lightning-layout-item>

        <!-- Relationship -->
        <lightning-layout-item style="min-width: 48.5%; max-width: 48.5%">
            <c-vcc-card variant="vaProfile">
                <div slot="title">
                    Relationship
                    <lightning-helptext if:false={associatedPerson.relationship} content="Relationship must be chosen before updating other information."></lightning-helptext>
                </div>

                <!-- Button Menu -->
                <lightning-button-menu if:true={name} slot="actions" alternative-text="Show menu" menu-alignment="auto" icon-size="xx-small" variant="border-filled">
                    <lightning-menu-item label="Edit" onclick={handleEditRelationship}></lightning-menu-item>
                </lightning-button-menu>

                <!-- Card Contents -->
                <div>{associatedPerson.relationship}</div>
            </c-vcc-card>
        </lightning-layout-item>
    </lightning-layout>
</template>
