<template>
    <c-logger></c-logger>
    <lightning-card>
        <lightning-spinner if:true={isLoading} alternative-text="Loading TXCC"></lightning-spinner>
        <div if:true={isStarted}>
            <c-dshi-txcc
                if:false={hasError}
                onerror={handleTriageError}
                oncomplete={handleTriageComplete}
                onabort={handleTriageAbort}></c-dshi-txcc>
        </div>
        <div if:false={isStarted} class="slds-grid slds-grid_align-center slds-grid_vertical-align-center">
            <template if:true={isStartable}>
                <lightning-button
                    variant="brand"
                    label="Start Triage"
                    title="Start Triage"
                    onclick={handleStartTriage}></lightning-button>
            </template>
            <template if:false={isStartable}> {isNotStartableReason} </template>
        </div>
    </lightning-card>
</template>
