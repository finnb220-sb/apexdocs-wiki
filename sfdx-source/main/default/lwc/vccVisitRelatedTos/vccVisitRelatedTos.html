<template>
    <lightning-card title="Visit Related To:">
        <lightning-record-edit-form density="compact" record-id={recordId} object-api-name={objectApiName}>
            <lightning-spinner if:true={isLoading} alternative-text="Loading visit related tos..."></lightning-spinner>
            <div class="slds-form-element slds-m-bottom_x-small slds-m-left_x-small">
                <div if:true={serviceConnected}>
                    <span class="slds-form-element__label">Service Connected</span>
                    <div class="slds-form-element__control">
                        <div class="slds-form-element__static slds-text-title_bold">{serviceConnected}%</div>
                    </div>
                </div>
                <template iterator:disabilities={ratedDisabilities}>
                    <template lwc:if={disabilities.first}>
                        <span key={disabilities.value.key} class="slds-form-element__label">Rated Disabilities</span>
                    </template>
                    <div key={disabilities.value.key} class="slds-form-element__static slds-text-title_bold">
                        {disabilities.value.disability} {disabilities.value.percentage}%
                    </div>
                </template>
            </div>
            <template for:each={fields} for:item="field">
                <lightning-input-field key={field} field-name={field} required="true"> </lightning-input-field>
            </template>
        </lightning-record-edit-form>
    </lightning-card>
</template>
