<template>
    <c-logger lwc:ref="logger"></c-logger>
    <div class="card-container">
        <lightning-card style="min-width: 400px">
            <div class="slds-grid slds-gutters custom-padding-icon">
                <div class="slds-col slds-size_2-of-12">
                    <lightning-icon icon-name="custom:custom18" alternative-text="Custom icon of notepad and pen">
                    </lightning-icon>
                </div>
                <div class="slds-col slds-size_8-of-12 slds-text-align_center">
                    <h2 class="slds-text-heading_medium slds-text-align_center small-font-title">
                        Progress Note Preview
                    </h2>
                </div>
                <div class="slds-col slds-size_2-of-12 slds-text-align_right">
                    <button class="slds-button slds-button_neutral" title="Expand" onclick={handleExpandClick}>
                        Expand
                    </button>
                </div>
            </div>
            <br />
            <template if:true={progressNotePreviewJson}>
                <div class="custom-padding-page-component">
                    <pre class="pre-progressNoteJson truncate-content">{progressNotePreviewJson}</pre>
                </div>
            </template>
            <br />
            <template if:true={isModalOpen}>
                <div class="slds-backdrop slds-backdrop_open"></div>
                <section
                    role="dialog"
                    tabindex="-1"
                    aria-modal="true"
                    aria-labelledby="modal-heading-01"
                    aria-describedby="modal-content-id-1"
                    class="slds-modal slds-fade-in-open">
                    <div class="slds-modal__container" role="alert">
                        <header class="slds-modal__header">
                            <div class="slds-grid slds-gutters">
                                <div class="slds-col slds-size_1-of-12">
                                    <lightning-icon icon-name="custom:custom18" alternative-text="Custom Icon">
                                    </lightning-icon>
                                </div>
                                <div class="slds-col slds-size_7-of-12 slds-text-align_left">
                                    <h2 class="slds-text-heading_medium">Expanded Progress Note Preview</h2>
                                </div>
                            </div>
                            <button
                                class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
                                title="Close"
                                onclick={handleCloseClick}>
                                <lightning-icon icon-name="utility:close" size="small"></lightning-icon>
                                <span class="slds-assistive-text">Close</span>
                            </button>
                        </header>
                        <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                            <br />
                            <div class="custom-padding-expand">
                                <pre class="pre-progressNoteJson">{progressNotePreviewJson}</pre>
                            </div>
                            <br />
                        </div>
                        <footer class="slds-modal__footer">
                            <button
                                class="slds-button close-button slds-button_neutral"
                                title="Close"
                                onclick={handleCloseClick}>
                                Close
                            </button>
                        </footer>
                    </div>
                </section>
            </template>
            <br /><br />
            <button class="slds-button view-all-button slds-button_neutral" title="Expand" onclick={handleExpandClick}>
                Expand
            </button>
        </lightning-card>
    </div>
</template>
