import{_ as t,c as e,o as i,ae as s}from"./chunks/framework.Dh1jimFm.js";const u=JSON.parse('{"title":"BatchJobSchedulingMgr Class","description":"","frontmatter":{},"headers":[],"relativePath":"miscellaneous/BatchJobSchedulingMgr.md","filePath":"miscellaneous/BatchJobSchedulingMgr.md"}'),n={name:"miscellaneous/BatchJobSchedulingMgr.md"};function r(o,a,h,l,d,p){return i(),e("div",null,a[0]||(a[0]=[s('<h1 id="batchjobschedulingmgr-class" tabindex="-1">BatchJobSchedulingMgr Class <a class="header-anchor" href="#batchjobschedulingmgr-class" aria-label="Permalink to &quot;BatchJobSchedulingMgr Class&quot;">​</a></h1><p><code>APIVERSION: 62</code><code>STATUS: ACTIVE</code></p><p>Name: BatchJobSchedulingMgr</p><p><strong>Author</strong> Brenda Finn</p><p><strong>Date</strong> 11/14/21</p><p><strong>See</strong> <a href="./BatchJobSchedulingMgrTest.html">BatchJobSchedulingMgrTest</a></p><h2 id="fields" tabindex="-1">Fields <a class="header-anchor" href="#fields" aria-label="Permalink to &quot;Fields&quot;">​</a></h2><h3 id="testconfigs" tabindex="-1"><code>testConfigs</code> <a class="header-anchor" href="#testconfigs" aria-label="Permalink to &quot;`testConfigs`&quot;">​</a></h3><p><code>TESTVISIBLE</code></p><h4 id="signature" tabindex="-1">Signature <a class="header-anchor" href="#signature" aria-label="Permalink to &quot;Signature&quot;">​</a></h4><div class="language-apex vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">apex</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> testConfigs</span></span></code></pre></div><h4 id="type" tabindex="-1">Type <a class="header-anchor" href="#type" aria-label="Permalink to &quot;Type&quot;">​</a></h4><p>List&lt;Do_Not_Run_Automations_Day__mdt&gt;</p><hr><h3 id="testdate" tabindex="-1"><code>testDate</code> <a class="header-anchor" href="#testdate" aria-label="Permalink to &quot;`testDate`&quot;">​</a></h3><p><code>TESTVISIBLE</code></p><h4 id="signature-1" tabindex="-1">Signature <a class="header-anchor" href="#signature-1" aria-label="Permalink to &quot;Signature&quot;">​</a></h4><div class="language-apex vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">apex</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> testDate</span></span></code></pre></div><h4 id="type-1" tabindex="-1">Type <a class="header-anchor" href="#type-1" aria-label="Permalink to &quot;Type&quot;">​</a></h4><p>Date</p><hr><h3 id="testbatchjobconfigs" tabindex="-1"><code>testBatchJobConfigs</code> <a class="header-anchor" href="#testbatchjobconfigs" aria-label="Permalink to &quot;`testBatchJobConfigs`&quot;">​</a></h3><p><code>TESTVISIBLE</code></p><h4 id="signature-2" tabindex="-1">Signature <a class="header-anchor" href="#signature-2" aria-label="Permalink to &quot;Signature&quot;">​</a></h4><div class="language-apex vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">apex</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> testBatchJobConfigs</span></span></code></pre></div><h4 id="type-2" tabindex="-1">Type <a class="header-anchor" href="#type-2" aria-label="Permalink to &quot;Type&quot;">​</a></h4><p>List&lt;Batch_Job_Config__mdt&gt;</p><hr><h3 id="defaultautomationtype" tabindex="-1"><code>defaultAutomationType</code> <a class="header-anchor" href="#defaultautomationtype" aria-label="Permalink to &quot;`defaultAutomationType`&quot;">​</a></h3><h4 id="signature-3" tabindex="-1">Signature <a class="header-anchor" href="#signature-3" aria-label="Permalink to &quot;Signature&quot;">​</a></h4><div class="language-apex vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">apex</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> defaultAutomationType</span></span></code></pre></div><h4 id="type-3" tabindex="-1">Type <a class="header-anchor" href="#type-3" aria-label="Permalink to &quot;Type&quot;">​</a></h4><p>String</p><hr><h3 id="batchjobconfigs" tabindex="-1"><code>batchJobConfigs</code> <a class="header-anchor" href="#batchjobconfigs" aria-label="Permalink to &quot;`batchJobConfigs`&quot;">​</a></h3><h4 id="signature-4" tabindex="-1">Signature <a class="header-anchor" href="#signature-4" aria-label="Permalink to &quot;Signature&quot;">​</a></h4><div class="language-apex vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">apex</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> batchJobConfigs</span></span></code></pre></div><h4 id="type-4" tabindex="-1">Type <a class="header-anchor" href="#type-4" aria-label="Permalink to &quot;Type&quot;">​</a></h4><p>Map&lt;String,Batch_Job_Config__mdt&gt;</p><hr><h3 id="configs" tabindex="-1"><code>configs</code> <a class="header-anchor" href="#configs" aria-label="Permalink to &quot;`configs`&quot;">​</a></h3><h4 id="signature-5" tabindex="-1">Signature <a class="header-anchor" href="#signature-5" aria-label="Permalink to &quot;Signature&quot;">​</a></h4><div class="language-apex vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">apex</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> configs</span></span></code></pre></div><h4 id="type-5" tabindex="-1">Type <a class="header-anchor" href="#type-5" aria-label="Permalink to &quot;Type&quot;">​</a></h4><p>Map&lt;String,List&lt;Do_Not_Run_Automations_Day__mdt&gt;&gt;</p><hr><h3 id="singleton" tabindex="-1"><code>singleton</code> <a class="header-anchor" href="#singleton" aria-label="Permalink to &quot;`singleton`&quot;">​</a></h3><h4 id="signature-6" tabindex="-1">Signature <a class="header-anchor" href="#signature-6" aria-label="Permalink to &quot;Signature&quot;">​</a></h4><div class="language-apex vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">apex</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> singleton</span></span></code></pre></div><h4 id="type-6" tabindex="-1">Type <a class="header-anchor" href="#type-6" aria-label="Permalink to &quot;Type&quot;">​</a></h4><p><a href="./BatchJobSchedulingMgr.html">BatchJobSchedulingMgr</a></p><h2 id="constructors" tabindex="-1">Constructors <a class="header-anchor" href="#constructors" aria-label="Permalink to &quot;Constructors&quot;">​</a></h2><h3 id="batchjobschedulingmgr" tabindex="-1"><code>BatchJobSchedulingMgr()</code> <a class="header-anchor" href="#batchjobschedulingmgr" aria-label="Permalink to &quot;`BatchJobSchedulingMgr()`&quot;">​</a></h3><p>Private constructor - singleton class</p><h4 id="signature-7" tabindex="-1">Signature <a class="header-anchor" href="#signature-7" aria-label="Permalink to &quot;Signature&quot;">​</a></h4><div class="language-apex vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">apex</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">private</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BatchJobSchedulingMgr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><h2 id="methods" tabindex="-1">Methods <a class="header-anchor" href="#methods" aria-label="Permalink to &quot;Methods&quot;">​</a></h2><h3 id="instance" tabindex="-1"><code>instance()</code> <a class="header-anchor" href="#instance" aria-label="Permalink to &quot;`instance()`&quot;">​</a></h3><p>Return the singleton instance of this class.</p><h4 id="signature-8" tabindex="-1">Signature <a class="header-anchor" href="#signature-8" aria-label="Permalink to &quot;Signature&quot;">​</a></h4><div class="language-apex vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">apex</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> BatchJobSchedulingMgr</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> instance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><h4 id="return-type" tabindex="-1">Return Type <a class="header-anchor" href="#return-type" aria-label="Permalink to &quot;Return Type&quot;">​</a></h4><p><strong><a href="./BatchJobSchedulingMgr.html">BatchJobSchedulingMgr</a></strong></p><p>Instance to use for determining if job should be run today</p><hr><h3 id="startjobs" tabindex="-1"><code>startJobs()</code> <a class="header-anchor" href="#startjobs" aria-label="Permalink to &quot;`startJobs()`&quot;">​</a></h3><p>For all currently active Batch Job Config metadata records, start the batch job on the specified schedule</p><h4 id="signature-9" tabindex="-1">Signature <a class="header-anchor" href="#signature-9" aria-label="Permalink to &quot;Signature&quot;">​</a></h4><div class="language-apex vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">apex</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> startJobs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><h4 id="return-type-1" tabindex="-1">Return Type <a class="header-anchor" href="#return-type-1" aria-label="Permalink to &quot;Return Type&quot;">​</a></h4><p><strong>void</strong></p><hr><h3 id="manualprocess-batchjobconfigname-recordids" tabindex="-1"><code>manualProcess(batchJobConfigName, recordIds)</code> <a class="header-anchor" href="#manualprocess-batchjobconfigname-recordids" aria-label="Permalink to &quot;`manualProcess(batchJobConfigName, recordIds)`&quot;">​</a></h3><p>Process the given records with the the batch job with configuration specified in batchJobConfigName without running a Batch but rather just directly processing the records by the worker/service class</p><h4 id="signature-10" tabindex="-1">Signature <a class="header-anchor" href="#signature-10" aria-label="Permalink to &quot;Signature&quot;">​</a></h4><div class="language-apex vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">apex</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> manualProcess</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> batchJobConfigName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">recordIds</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h4 id="parameters" tabindex="-1">Parameters <a class="header-anchor" href="#parameters" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>batchJobConfigName</td><td>String</td><td>Developer Name for a Batch_Job_Config metadata record containing</td></tr><tr><td>configuration details for job to be scheduled/started.</td><td></td><td></td></tr><tr><td>recordIds</td><td>Set&lt;Id&gt;</td><td>Set of record ids to process - further filters records being processed</td></tr><tr><td>to allow for controlling data set during testing.</td><td></td><td></td></tr></tbody></table><h4 id="return-type-2" tabindex="-1">Return Type <a class="header-anchor" href="#return-type-2" aria-label="Permalink to &quot;Return Type&quot;">​</a></h4><p><strong>void</strong></p><hr><h3 id="startjob-batchjobconfigname-blnsinglerun" tabindex="-1"><code>startJob(batchJobConfigName, blnSingleRun)</code> <a class="header-anchor" href="#startjob-batchjobconfigname-blnsinglerun" aria-label="Permalink to &quot;`startJob(batchJobConfigName, blnSingleRun)`&quot;">​</a></h3><p>Start the batch job with configuration specified in batchJobConfigName</p><h4 id="signature-11" tabindex="-1">Signature <a class="header-anchor" href="#signature-11" aria-label="Permalink to &quot;Signature&quot;">​</a></h4><div class="language-apex vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">apex</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> startJob</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> batchJobConfigName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Boolean</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> blnSingleRun</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h4 id="parameters-1" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-1" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>batchJobConfigName</td><td>String</td><td>Developer Name for a Batch_Job_Config metadata record containing</td></tr><tr><td>configuration details for job to be scheduled/started.</td><td></td><td></td></tr><tr><td>blnSingleRun</td><td>Boolean</td><td>if true, kickoff a single one-off batch job run, otherwise schedule it</td></tr></tbody></table><h4 id="return-type-3" tabindex="-1">Return Type <a class="header-anchor" href="#return-type-3" aria-label="Permalink to &quot;Return Type&quot;">​</a></h4><p><strong>void</strong></p><hr><h3 id="dorunautomation" tabindex="-1"><code>doRunAutomation()</code> <a class="header-anchor" href="#dorunautomation" aria-label="Permalink to &quot;`doRunAutomation()`&quot;">​</a></h3><p>Returns true or false to indicate if the default automation type provided should be run today based on the currently configured metadata records</p><h4 id="signature-12" tabindex="-1">Signature <a class="header-anchor" href="#signature-12" aria-label="Permalink to &quot;Signature&quot;">​</a></h4><div class="language-apex vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">apex</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Boolean</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> doRunAutomation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><h4 id="return-type-4" tabindex="-1">Return Type <a class="header-anchor" href="#return-type-4" aria-label="Permalink to &quot;Return Type&quot;">​</a></h4><p><strong>Boolean</strong></p><p>true if default automation is defined and should run today, false otherwise,[object Object], including if no default automation is provided</p><hr><h3 id="dorunautomation-automationtype" tabindex="-1"><code>doRunAutomation(automationType)</code> <a class="header-anchor" href="#dorunautomation-automationtype" aria-label="Permalink to &quot;`doRunAutomation(automationType)`&quot;">​</a></h3><p>Returns true or false to indicate if the automation type provided should be run today based on the currently configured metadata records</p><h4 id="signature-13" tabindex="-1">Signature <a class="header-anchor" href="#signature-13" aria-label="Permalink to &quot;Signature&quot;">​</a></h4><div class="language-apex vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">apex</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Boolean</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> doRunAutomation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> automationType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h4 id="parameters-2" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-2" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>automationType</td><td>String</td><td>type of automation - one of the P/L values from metadata type definition.</td></tr><tr><td>Right now, only Suspension jobs are being managed</td><td></td><td></td></tr></tbody></table><h4 id="return-type-5" tabindex="-1">Return Type <a class="header-anchor" href="#return-type-5" aria-label="Permalink to &quot;Return Type&quot;">​</a></h4><p><strong>Boolean</strong></p><p>true if automation should run, false otherwise</p>',107)]))}const g=t(n,[["render",r]]);export{u as __pageData,g as default};
