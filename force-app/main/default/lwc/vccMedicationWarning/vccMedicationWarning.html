<template>
    <lightning-card>
        <template if:true={hasWarnings}>
            <lightning-accordion class="slds-var-m-around_large" allow-multiple-sections-open active-section-name="">
                <lightning-accordion-section name="a" label={warningTitle}>
                    <lightning-icon title="Warning Accordion" icon-name="utility:warning" size="small" slot="actions" class="grey"></lightning-icon>
                    <div class="slds-m-left_medium">
                        <template for:each={warnings} for:item="warning">
                            <div class="warning" key={warning.message} tabindex="0">
                                <div class="slds-list_horizontal">
                                    <lightning-icon title="Warnings" icon-name="utility:warning" size="x-small" class="orange" variant="warning"></lightning-icon>
                                    <lightning-formatted-text class="slds-text-title_bold slds-col slds-m-left_x-small" value={warning.message}></lightning-formatted-text>
                                </div>

                                <template if:true={warning.hasSiteData}>
                                    <div class="slds-var-m-left_xx-large">
                                        <template for:each={warning.siteDataList} for:item="siteData">
                                            <div key={siteData.Id} class="slds-p-top_x-small slds-p-bottom_xx-small">
                                                <div class="slds-list_veritcal slds-wrap">
                                                    <div>
                                                        <div class="slds-text-title_bold">{siteData.name}</div>
                                                        <!-- Custom Permissions are FOR USE IN FUTURE Stories -->
                                                        <!-- <div if:true={canSeeBadAddress}> -->
                                                        <div if:true={siteData.badAddress}>Bad Address: {siteData.badAddress}</div>
                                                        <!-- </div> -->
                                                        <!-- <div if:true={canSeeMail}> -->
                                                        <div if:true={siteData.mailStatus}>Mail Status: {siteData.mailStatus}</div>
                                                        <!-- </div> -->
                                                    </div>
                                                </div>
                                            </div>
                                        </template>
                                    </div>
                                </template>
                            </div>
                        </template>
                    </div>
                </lightning-accordion-section>
            </lightning-accordion>
        </template>
    </lightning-card>
</template>
